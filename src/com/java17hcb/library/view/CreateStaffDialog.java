package com.java17hcb.library.view;

import com.github.lgooddatepicker.components.DatePickerSettings;
import com.java17hcb.library.bus.BusLibraryCard;
import com.java17hcb.library.bus.BusStaff;
import com.java17hcb.library.entity.LibraryCard;
import com.java17hcb.library.entity.Staff;
import com.java17hcb.library.utils.DateUtils;
import com.java17hcb.library.utils.FormVerifier;
import java.time.LocalDate;
import java.util.ArrayList;
import java.util.Date;
import java.util.List;
import javax.swing.JOptionPane;

public class CreateStaffDialog extends javax.swing.JDialog {
    private java.awt.Frame parent;

    public CreateStaffDialog(java.awt.Frame parent, boolean modal) {
        super(parent, modal);
        this.parent = parent;
        initComponents();
        setupComponents();
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        btngType = new javax.swing.ButtonGroup();
        jPanel1 = new javax.swing.JPanel();
        lbFullname = new javax.swing.JLabel();
        lbDOB = new javax.swing.JLabel();
        tfAddress = new javax.swing.JTextField();
        dpDOB = new com.github.lgooddatepicker.components.DatePicker();
        jLabel4 = new javax.swing.JLabel();
        jLabel5 = new javax.swing.JLabel();
        tfFullname = new javax.swing.JTextField();
        tfPhone = new javax.swing.JTextField();
        lbErrFullname = new javax.swing.JLabel();
        lbErrAddress = new javax.swing.JLabel();
        lbErrPhone = new javax.swing.JLabel();
        jPanel2 = new javax.swing.JPanel();
        lbAddress = new javax.swing.JLabel();
        tfUsername = new javax.swing.JTextField();
        lbEmail = new javax.swing.JLabel();
        lbErrUsername = new javax.swing.JLabel();
        pfPassword = new javax.swing.JPasswordField();
        jLabel1 = new javax.swing.JLabel();
        cbDiploma = new javax.swing.JComboBox<>();
        jLabel2 = new javax.swing.JLabel();
        cbPosition = new javax.swing.JComboBox<>();
        jLabel3 = new javax.swing.JLabel();
        cbDivision = new javax.swing.JComboBox<>();
        lbErrPassword = new javax.swing.JLabel();
        btnCancel = new javax.swing.JButton();
        btnOK = new javax.swing.JButton();

        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);

        jPanel1.setBorder(javax.swing.BorderFactory.createTitledBorder("Personal Information"));

        lbFullname.setText("Fullname");

        lbDOB.setText("DOB");

        tfAddress.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                tfAddressKeyReleased(evt);
            }
        });

        dpDOB.setMinimumSize(new java.awt.Dimension(168, 24));
        dpDOB.setPreferredSize(new java.awt.Dimension(168, 24));

        jLabel4.setText("Address");

        jLabel5.setText("Phone");

        tfFullname.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                tfFullnameKeyReleased(evt);
            }
        });

        tfPhone.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                tfPhoneKeyReleased(evt);
            }
        });

        lbErrFullname.setForeground(new java.awt.Color(255, 51, 51));
        lbErrFullname.setText(" ");
        lbErrFullname.addPropertyChangeListener(new java.beans.PropertyChangeListener() {
            public void propertyChange(java.beans.PropertyChangeEvent evt) {
                lbErrFullnamePropertyChange(evt);
            }
        });

        lbErrAddress.setForeground(new java.awt.Color(255, 51, 51));
        lbErrAddress.setText(" ");
        lbErrAddress.addPropertyChangeListener(new java.beans.PropertyChangeListener() {
            public void propertyChange(java.beans.PropertyChangeEvent evt) {
                lbErrAddressPropertyChange(evt);
            }
        });

        lbErrPhone.setForeground(new java.awt.Color(255, 51, 51));
        lbErrPhone.setText(" ");
        lbErrPhone.addPropertyChangeListener(new java.beans.PropertyChangeListener() {
            public void propertyChange(java.beans.PropertyChangeEvent evt) {
                lbErrPhonePropertyChange(evt);
            }
        });

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(lbFullname, javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(lbDOB, javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jLabel4, javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jLabel5, javax.swing.GroupLayout.Alignment.TRAILING))
                .addGap(18, 18, 18)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(tfFullname)
                    .addComponent(dpDOB, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(tfAddress)
                    .addComponent(tfPhone)
                    .addComponent(lbErrFullname, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(lbErrAddress, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(lbErrPhone, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addContainerGap())
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(tfFullname, javax.swing.GroupLayout.PREFERRED_SIZE, 24, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(lbFullname))
                .addGap(2, 2, 2)
                .addComponent(lbErrFullname, javax.swing.GroupLayout.PREFERRED_SIZE, 15, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(17, 17, 17)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(lbDOB)
                    .addComponent(dpDOB, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel4)
                    .addComponent(tfAddress, javax.swing.GroupLayout.PREFERRED_SIZE, 24, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(lbErrAddress, javax.swing.GroupLayout.PREFERRED_SIZE, 15, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel5, javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(tfPhone, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 24, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(lbErrPhone, javax.swing.GroupLayout.PREFERRED_SIZE, 15, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(130, 130, 130))
        );

        jPanel2.setBorder(javax.swing.BorderFactory.createTitledBorder("Staff Information"));

        lbAddress.setText("Username");

        tfUsername.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                tfUsernameKeyReleased(evt);
            }
        });

        lbEmail.setText("Password");

        lbErrUsername.setText(" ");
        lbErrUsername.setForeground(new java.awt.Color(255, 51, 51));
        lbErrUsername.addPropertyChangeListener(new java.beans.PropertyChangeListener() {
            public void propertyChange(java.beans.PropertyChangeEvent evt) {
                lbErrUsernamePropertyChange(evt);
            }
        });

        pfPassword.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                pfPasswordKeyReleased(evt);
            }
        });

        jLabel1.setText("Diploma");

        cbDiploma.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Tú Tài", "Trung Cấp", "Cao Đẳng", "Đại Học", "Thạc Sĩ", "Tiến Sĩ" }));

        jLabel2.setText("Position");

        cbPosition.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Giám Đốc", "Phó Giám Đốc", "Trưởng Phòng", "Phó Phòng", "Nhân Viên" }));

        jLabel3.setText("Division");

        cbDivision.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Thủ Thư", "Thủ Kho", "Thủ Quỹ", "Ban Giám Đốc", "Admin" }));

        lbErrPassword.setForeground(new java.awt.Color(255, 51, 51));
        lbErrPassword.setText(" ");
        lbErrPassword.addPropertyChangeListener(new java.beans.PropertyChangeListener() {
            public void propertyChange(java.beans.PropertyChangeEvent evt) {
                lbErrPasswordPropertyChange(evt);
            }
        });

        javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(lbAddress, javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(lbEmail, javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jLabel1, javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jLabel2, javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jLabel3, javax.swing.GroupLayout.Alignment.TRAILING))
                .addGap(18, 18, 18)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(tfUsername, javax.swing.GroupLayout.DEFAULT_SIZE, 258, Short.MAX_VALUE)
                    .addComponent(cbDiploma, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(cbPosition, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(cbDivision, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(pfPassword)
                    .addComponent(lbErrUsername, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(lbErrPassword, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addContainerGap())
        );
        jPanel2Layout.setVerticalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(lbAddress)
                    .addComponent(tfUsername, javax.swing.GroupLayout.PREFERRED_SIZE, 24, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(1, 1, 1)
                .addComponent(lbErrUsername, javax.swing.GroupLayout.PREFERRED_SIZE, 15, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(lbEmail)
                    .addComponent(pfPassword, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(lbErrPassword, javax.swing.GroupLayout.PREFERRED_SIZE, 15, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel1)
                    .addComponent(cbDiploma, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel2)
                    .addComponent(cbPosition, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel3)
                    .addComponent(cbDivision, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        btnCancel.setText("Cancel");
        btnCancel.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnCancelActionPerformed(evt);
            }
        });

        btnOK.setText("OK");
        btnOK.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnOKActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jPanel2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                        .addGap(0, 0, Short.MAX_VALUE)
                        .addComponent(btnCancel)
                        .addGap(18, 18, 18)
                        .addComponent(btnOK)))
                .addContainerGap())
        );

        layout.linkSize(javax.swing.SwingConstants.HORIZONTAL, new java.awt.Component[] {btnCancel, btnOK});

        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jPanel2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, 226, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(btnOK)
                    .addComponent(btnCancel))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void btnOKActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnOKActionPerformed
        String username = tfUsername.getText();
        //String password = pfPassword.getPassword().toString();
        String password = pfPassword.getText();
        String fullName = tfFullname.getText();
        String address = tfAddress.getText();
        String phone = tfPhone.getText();
        
        String diplomaString = (String)cbDiploma.getSelectedItem();
        String positionString = (String)cbPosition.getSelectedItem();
        String divisionString = (String)cbDivision.getSelectedItem();
        
        Date dateOfBirth = DateUtils.asDate(dpDOB.getDate());
        
        int diploma = 0;
        switch(diplomaString){
            case "Tú Tài":
                diploma = Staff.Diploma.TU_TAI;
                break;
            case "Trung Cấp":
                diploma = Staff.Diploma.TRUNG_CAP;
                break;
            case "Cao Đẳng":
                diploma = Staff.Diploma.CAO_DANG;
                break;
            case "Đại Học":
                diploma = Staff.Diploma.DAI_HOC;
                break;
            case "Thạc Sĩ":
                diploma = Staff.Diploma.THAC_SI;
                break;
            case "Tiếm Sĩ":
                diploma = Staff.Diploma.TIEN_SI;
                break;
        }
        
        int position = 0;
        switch(positionString){
            case "Giám Đốc":
                position = Staff.Position.GIAM_DOC;
                break;
            case "Phó Giám Đốc":
                position = Staff.Position.PHO_GIAM_DOC;
                break;
            case "Trưởng Phòng":
                position = Staff.Position.TRUONG_PHONG;
                break;
            case "Phó Phòng":
                position = Staff.Position.PHO_PHONG;
                break;
            case "Nhân Viên":
                position = Staff.Position.NHAN_VIEN;
                break;
        }
        
        int division = 0;
        switch(divisionString){
            case "Thủ Thư":
                division = Staff.Division.THU_THU;
                break;
            case "Thủ Kho":
                division = Staff.Division.THU_KHO;
                break;
            case "Thủ Quỹ":
                division = Staff.Division.THU_QUY;
                break;
            case "Ban Giám Đốc":
                division = Staff.Division.BAN_GIAM_DOC;
                break;
            case "Admin":
                division = Staff.Division.ADMIN;
                break;
        }
        
        int result = BusStaff.getInstance().createStaff(username, password, fullName, 
                                dateOfBirth, diploma, position, division, address, phone);
        
        switch(result){
            case BusStaff.CREATE_ACCOUNT_EXIST:
                JOptionPane.showMessageDialog(this, 
                        "The account with the same name has already exist.",
                        "Error",
                        JOptionPane.ERROR_MESSAGE);
                tfUsername.setText("");
                return;
            case BusStaff.CREATE_SUCCESS:
                JOptionPane.showMessageDialog(this, 
                                        "Create new staff account success!",
                                        "Success",
                                        JOptionPane.INFORMATION_MESSAGE);
                break;
        }
        
        ((MainFrame)parent).setupStaffTable();
        dispose();
    }//GEN-LAST:event_btnOKActionPerformed

    private void btnCancelActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnCancelActionPerformed
        dispose();
    }//GEN-LAST:event_btnCancelActionPerformed

    private void tfAddressKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_tfAddressKeyReleased
        FormVerifier.verifyInput(btnOK, tfAddress.getText(), lbErrAddress, "Address");
    }//GEN-LAST:event_tfAddressKeyReleased

    private void tfUsernameKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_tfUsernameKeyReleased
        FormVerifier.verifyInput(btnOK, tfUsername.getText(), lbErrUsername, "Username");
    }//GEN-LAST:event_tfUsernameKeyReleased

    private void lbErrUsernamePropertyChange(java.beans.PropertyChangeEvent evt) {//GEN-FIRST:event_lbErrUsernamePropertyChange
        List<String> errMessages = new ArrayList<>();
        errMessages.add(lbErrUsername.getText());
        errMessages.add(lbErrPassword.getText());
        errMessages.add(lbErrFullname.getText());
        errMessages.add(lbErrAddress.getText());
        errMessages.add(lbErrPhone.getText());
        btnOK.setEnabled(FormVerifier.enableBtnConfirm(errMessages));
    }//GEN-LAST:event_lbErrUsernamePropertyChange

    private void lbErrPasswordPropertyChange(java.beans.PropertyChangeEvent evt) {//GEN-FIRST:event_lbErrPasswordPropertyChange
        List<String> errMessages = new ArrayList<>();
        errMessages.add(lbErrUsername.getText());
        errMessages.add(lbErrPassword.getText());
        errMessages.add(lbErrFullname.getText());
        errMessages.add(lbErrAddress.getText());
        errMessages.add(lbErrPhone.getText());
        btnOK.setEnabled(FormVerifier.enableBtnConfirm(errMessages));
    }//GEN-LAST:event_lbErrPasswordPropertyChange

    private void tfFullnameKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_tfFullnameKeyReleased
        FormVerifier.verifyInput(btnOK, tfFullname.getText(), lbErrFullname, "Fullname");
    }//GEN-LAST:event_tfFullnameKeyReleased

    private void tfPhoneKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_tfPhoneKeyReleased
        FormVerifier.verifyInput(btnOK, tfPhone.getText(), lbErrPhone, "Phone");
    }//GEN-LAST:event_tfPhoneKeyReleased

    private void lbErrFullnamePropertyChange(java.beans.PropertyChangeEvent evt) {//GEN-FIRST:event_lbErrFullnamePropertyChange
        List<String> errMessages = new ArrayList<>();
        errMessages.add(lbErrUsername.getText());
        errMessages.add(lbErrPassword.getText());
        errMessages.add(lbErrFullname.getText());
        errMessages.add(lbErrAddress.getText());
        errMessages.add(lbErrPhone.getText());
        btnOK.setEnabled(FormVerifier.enableBtnConfirm(errMessages));
    }//GEN-LAST:event_lbErrFullnamePropertyChange

    private void lbErrAddressPropertyChange(java.beans.PropertyChangeEvent evt) {//GEN-FIRST:event_lbErrAddressPropertyChange
        List<String> errMessages = new ArrayList<>();
        errMessages.add(lbErrUsername.getText());
        errMessages.add(lbErrPassword.getText());
        errMessages.add(lbErrFullname.getText());
        errMessages.add(lbErrAddress.getText());
        errMessages.add(lbErrPhone.getText());
        btnOK.setEnabled(FormVerifier.enableBtnConfirm(errMessages));
    }//GEN-LAST:event_lbErrAddressPropertyChange

    private void lbErrPhonePropertyChange(java.beans.PropertyChangeEvent evt) {//GEN-FIRST:event_lbErrPhonePropertyChange
        List<String> errMessages = new ArrayList<>();
        errMessages.add(lbErrUsername.getText());
        errMessages.add(lbErrPassword.getText());
        errMessages.add(lbErrFullname.getText());
        errMessages.add(lbErrAddress.getText());
        errMessages.add(lbErrPhone.getText());
        btnOK.setEnabled(FormVerifier.enableBtnConfirm(errMessages));
    }//GEN-LAST:event_lbErrPhonePropertyChange

    private void pfPasswordKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_pfPasswordKeyReleased
        FormVerifier.verifyInput(btnOK, pfPassword.getText(), lbErrPassword, "Password");
    }//GEN-LAST:event_pfPasswordKeyReleased

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(CreateStaffDialog.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(CreateStaffDialog.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(CreateStaffDialog.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(CreateStaffDialog.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>
        //</editor-fold>

        /* Create and display the dialog */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                CreateStaffDialog dialog = new CreateStaffDialog(new javax.swing.JFrame(), true);
                dialog.addWindowListener(new java.awt.event.WindowAdapter() {
                    @Override
                    public void windowClosing(java.awt.event.WindowEvent e) {
                        System.exit(0);
                    }
                });
                dialog.setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton btnCancel;
    private javax.swing.JButton btnOK;
    private javax.swing.ButtonGroup btngType;
    private javax.swing.JComboBox<String> cbDiploma;
    private javax.swing.JComboBox<String> cbDivision;
    private javax.swing.JComboBox<String> cbPosition;
    private com.github.lgooddatepicker.components.DatePicker dpDOB;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JLabel lbAddress;
    private javax.swing.JLabel lbDOB;
    private javax.swing.JLabel lbEmail;
    private javax.swing.JLabel lbErrAddress;
    private javax.swing.JLabel lbErrFullname;
    private javax.swing.JLabel lbErrPassword;
    private javax.swing.JLabel lbErrPhone;
    private javax.swing.JLabel lbErrUsername;
    private javax.swing.JLabel lbFullname;
    private javax.swing.JPasswordField pfPassword;
    private javax.swing.JTextField tfAddress;
    private javax.swing.JTextField tfFullname;
    private javax.swing.JTextField tfPhone;
    private javax.swing.JTextField tfUsername;
    // End of variables declaration//GEN-END:variables

    private void setupComponents(){
        setTitle("Create Staff");
        setLocationRelativeTo(null);
        btnOK.setEnabled(false);
        
        // Set bound for DOB date picker
        DatePickerSettings settings = dpDOB.getSettings();
        LocalDate today = LocalDate.now();
        
        dpDOB.setDate(today.minusYears(18));
        settings.setDateRangeLimits(today.minusYears(65), today.minusYears(18));
        settings.setFormatForDatesCommonEra("dd-MM-yyyy");
        settings.setAllowKeyboardEditing(false);
    }
}
